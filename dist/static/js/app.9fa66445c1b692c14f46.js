webpackJsonp([15],{"+/MR":function(t,e){},"+Kax":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("k0cX"),s=n("E4LH"),o={data:function(){return{dynamicMenuRoutes:[]}},components:{SubMenu:a.default},computed:{menuList:{get:function(){return this.$store.state.common.menuList},set:function(t){this.$store.commit("common/updateMenuList",t)}},menuActiveName:{get:function(){return this.$store.state.common.menuActiveName},set:function(t){this.$store.commit("common/updateMenuActiveName",t)}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)}},mainTabsActiveName:{get:function(){return this.$store.state.common.mainTabsActiveName},set:function(t){this.$store.commit("common/updateMainTabsActiveName",t)}}},watch:{$route:"routeHandle"},created:function(){this.menuList=JSON.parse(sessionStorage.getItem("menuList")||"[]"),this.dynamicMenuRoutes=JSON.parse(sessionStorage.getItem("dynamicMenuRoutes")||"[]"),this.routeHandle(this.$route)},methods:{routeHandle:function(t){if(t.meta.isTab){var e=this.mainTabs.filter(function(e){return e.name===t.name})[0];if(!e){if(t.meta.isDynamic&&!(t=this.dynamicMenuRoutes.filter(function(e){return e.name===t.name})[0]))return console.error("未能找到可用标签页!");e={menuId:t.meta.menuId||t.name,name:t.name,title:t.meta.title,type:Object(s.c)(t.meta.iframeUrl)?"iframe":"module",iframeUrl:t.meta.iframeUrl||"",params:t.params,query:t.query},this.mainTabs=this.mainTabs.concat(e)}this.menuActiveName=e.menuId+"",this.mainTabsActiveName=e.name}}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",{staticClass:"site-sidebar",attrs:{width:"200px"}},[n("div",{staticClass:"site-sidebar__inner",staticStyle:{"background-color":"#263238"}},[n("el-menu",{staticClass:"site-sidebar__menu",attrs:{"default-active":t.menuActiveName||"home",collapseTransition:!1,"background-color":"#263238","text-color":"#8a979e","active-text-color":"#ffff"}},[n("el-menu-item",{attrs:{index:"home"},on:{click:function(e){return t.$router.push({name:"home"})}}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),t._l(t.menuList,function(e){return n("sub-menu",{key:e.menuId,attrs:{menu:e,dynamicMenuRoutes:t.dynamicMenuRoutes}})})],2)],1)])},staticRenderFns:[]};var i=n("VU/8")(o,r,!1,function(t){n("PyV8")},null,null);e.default=i.exports},"0tMT":function(t,e,n){t.exports=function(t){return function(){return n("Vna/")("./"+t+".vue")}}},"0xDb":function(t,e,n){"use strict";e.b=function(t){return-1!==JSON.parse(sessionStorage.getItem("permissions")||"[]").indexOf(t)||!1},e.c=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parentId",a=[],s={},o=0;o<t.length;o++)s[t[o][e]]=t[o];for(var r=0;r<t.length;r++)s[t[r][n]]&&t[r][e]!==t[r][n]?(s[t[r][n]].children||(s[t[r][n]].children=[]),s[t[r][n]]._level||(s[t[r][n]]._level=1),t[r]._level=s[t[r][n]]._level+1,s[t[r][n]].children.push(t[r])):a.push(t[r]);return a},e.a=function(){s.a.remove("token"),o.a.options.isAddDynamicMenuRoutes=!1};var a=n("ppUw"),s=n.n(a),o=n("YaEn");n("IcnI")},"29RG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{dataForm:{userName:"",password:"",uuid:"",captcha:""},dataRule:{userName:[{required:!0,message:"帐号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],captcha:[{required:!0,message:"验证码不能为空",trigger:"blur"}]},captchaPath:""}},created:function(){this.getCaptcha()},methods:{dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/sys/login"),method:"post",data:t.$http.adornData({username:t.dataForm.userName,password:t.dataForm.password,uuid:t.dataForm.uuid,captcha:t.dataForm.captcha})}).then(function(e){var n=e.data;n&&0===n.code?(t.$cookies.set("token",n.token),t.$router.replace({name:"home"})):(t.getCaptcha(),t.$message.error(n.msg))})})},getCaptcha:function(){this.dataForm.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){return("x"===t?16*Math.random()|0:8).toString(16)}),this.captchaPath=this.$http.adornUrl("/captcha.jpg?uuid="+this.dataForm.uuid)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper-login"},[n("div",{staticClass:"site-content__wrapper"},[n("div",{staticClass:"site-content"},[t._m(0),t._v(" "),n("el-card",{staticClass:"login-main"},[n("h3",{staticClass:"login-title"},[t._v("管理员登录")]),t._v(" "),n("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"status-icon":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmit()}}},[n("el-form-item",{attrs:{prop:"userName"}},[n("el-input",{attrs:{placeholder:"帐号"},model:{value:t.dataForm.userName,callback:function(e){t.$set(t.dataForm,"userName",e)},expression:"dataForm.userName"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:t.dataForm.password,callback:function(e){t.$set(t.dataForm,"password",e)},expression:"dataForm.password"}})],1),t._v(" "),n("el-form-item",{attrs:{prop:"captcha"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:14}},[n("el-input",{attrs:{placeholder:"验证码"},model:{value:t.dataForm.captcha,callback:function(e){t.$set(t.dataForm,"captcha",e)},expression:"dataForm.captcha"}})],1),t._v(" "),n("el-col",{staticClass:"login-captcha",attrs:{span:10}},[n("img",{attrs:{src:t.captchaPath,alt:""},on:{click:function(e){return t.getCaptcha()}}})])],1)],1),t._v(" "),n("el-form-item",[n("el-button",{staticClass:"login-btn-submit",attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("登录")])],1)],1)],1)],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"brand-info"},[e("h2",{staticClass:"brand-info__text"},[this._v("商城后台管理系统")])])}]};var o=n("VU/8")(a,s,!1,function(t){n("Bd8B")},null,null);e.default=o.exports},"5CN4":function(t,e){},"61Pw":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mod-home"},[e("h3",[this._v("欢迎登陆")])])}]};var s=n("VU/8")({},a,!1,function(t){n("vaQY")},null,null);e.default=s.exports},Bd8B:function(t,e){},E4LH:function(t,e,n){"use strict";e.a=function(t){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(t)},e.b=function(t){return/^1[0-9]{10}$/.test(t)},e.c=function(t){return/^http[s]?:\/\/.*/.test(t)}},"EbP+":function(t,e){},Erzt:function(t,e,n){t.exports=n.p+"static/img/1.45ee9c0.jpg"},IcnI:function(t,e,n){"use strict";var a=n("fZjL"),s=n.n(a),o=n("7+uW"),r=n("NYxO"),i=n("kvU2"),u=n.n(i);o.default.use(r.a);e.a=new r.a.Store({modules:{common:{namespaced:!0,state:{documentClientHeight:0,navbarLayoutType:"default",menuList:[],menuActiveName:"",contentIsNeedRefresh:!1,mainTabs:[],mainTabsActiveName:""},mutations:{updateDocumentClientHeight:function(t,e){t.documentClientHeight=e},updateNavbarLayoutType:function(t,e){t.navbarLayoutType=e},updateMenuList:function(t,e){t.menuList=e},updateMenuActiveName:function(t,e){t.menuActiveName=e},updateContentIsNeedRefresh:function(t,e){t.contentIsNeedRefresh=e},updateMainTabs:function(t,e){t.mainTabs=e},updateMainTabsActiveName:function(t,e){t.mainTabsActiveName=e}}},user:{namespaced:!0,state:{id:0,name:""},mutations:{updateId:function(t,e){t.id=e},updateName:function(t,e){t.name=e}}}},mutations:{resetStore:function(t){s()(t).forEach(function(e){t[e]=u()(window.SITE_CONFIG.storeState[e])})}},strict:!1})},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s=n("zL8q"),o=n.n(s),r=(n("+/MR"),n("IcnI")),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")({name:"App"},i,!1,function(t){n("EbP+")},null,null).exports,c=n("YaEn"),m=n("ppUw"),l=n.n(m),d=n("Rk3H"),p=n("0xDb");a.default.config.productionTip=!1,a.default.prototype.$http=d.a,a.default.prototype.isAuth=p.b,a.default.prototype.$store=r.a,a.default.use(o.a),a.default.use(l.a),new a.default({el:"#app",router:c.a,components:{App:u},template:"<App/>"})},PyV8:function(t,e){},QrdH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("VGxo"),s=n("0xDb"),o={data:function(){return{updatePassowrdVisible:!1}},components:{UpdatePassword:a.default},computed:{userName:{get:function(){return this.$store.state.user.name}}},methods:{updatePasswordHandle:function(){var t=this;this.updatePassowrdVisible=!0,this.$nextTick(function(){t.$refs.updatePassowrd.init()})},logoutHandle:function(){var t=this;this.$confirm("确定进行[退出]操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http({url:t.$http.adornUrl("/sys/logout"),method:"post",data:t.$http.adornData()}).then(function(e){var n=e.data;n&&0===n.code&&(Object(s.a)(),t.$router.push({name:"login"}))})}).catch(function(){})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"site-navbar"},[a("div",{staticClass:"site-navbar__header"},[a("h1",{staticClass:"site-navbar__brand",on:{click:function(e){return t.$router.push({name:"home"})}}},[t._v("\n      商城后台管理系统\n    ")])]),t._v(" "),a("div",{staticClass:"site-navbar__body"},[a("el-menu",{staticClass:"site-navbar__menu--right",attrs:{mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"2"}},[a("a",{attrs:{href:"https://github.com/Yht-7683/",target:"_blank"}},[t._v("个人github")])]),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[t._v("github源码")]),t._v(" "),a("el-menu-item",{attrs:{index:"3-1"}},[a("a",{staticStyle:{color:"#A3A5A6"},attrs:{href:"https://github.com/Yht-7683/mall-vue",target:"_blank"}},[t._v("管理系统前端")])]),t._v(" "),a("el-menu-item",{attrs:{index:"3-2"}},[a("a",{staticStyle:{color:"#A3A5A6"},attrs:{href:"https://github.com/Yht-7683/mall-vue",target:"_blank"}},[t._v("商城前端")])]),t._v(" "),a("el-menu-item",{attrs:{index:"3-3"}},[a("a",{staticStyle:{color:"#A3A5A6"},attrs:{href:"https://github.com/Yht-7683/mall_back",target:"_blank"}},[t._v("商城后端")])])],2),t._v(" "),a("el-menu-item",{staticClass:"site-navbar__avatar",attrs:{index:"3"}},[a("el-dropdown",{attrs:{"show-timeout":0,placement:"bottom"}},[a("span",{staticClass:"el-dropdown-link"},[a("img",{attrs:{src:n("Erzt"),alt:t.userName}}),t._v(t._s(t.userName)+"\n          ")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{nativeOn:{click:function(e){return t.updatePasswordHandle()}}},[t._v("修改密码")]),t._v(" "),a("el-dropdown-item",{nativeOn:{click:function(e){return t.logoutHandle()}}},[t._v("退出")])],1)],1)],1)],1)],1),t._v(" "),t.updatePassowrdVisible?a("update-password",{ref:"updatePassowrd"}):t._e()],1)},staticRenderFns:[]};var i=n("VU/8")(o,r,!1,function(t){n("lwfY")},null,null);e.default=i.exports},R9mB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"site-wrapper site-page--not-found"},[n("div",{staticClass:"site-content__wrapper"},[n("div",{staticClass:"site-content"},[n("h2",{staticClass:"not-found-title"},[t._v("404")]),t._v(" "),t._m(0),t._v(" "),n("el-button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回上一页")]),t._v(" "),n("el-button",{staticClass:"not-found-btn-gohome",attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"home"})}}},[t._v("进入首页")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"not-found-desc"},[this._v("您访问的页面"),e("em",{staticClass:"not-found"},[this._v("失联")]),this._v("啦 ...(￣３￣)")])}]};var s=n("VU/8")({},a,!1,function(t){n("qNqz")},null,null);e.default=s.exports},Rk3H:function(t,e,n){"use strict";var a=n("mvHQ"),s=n.n(a),o=n("//Fk"),r=n.n(o),i=n("7+uW"),u=n("mtWM"),c=n.n(u),m=n("YaEn"),l=n("mw3O"),d=n.n(l),p=n("HN2V"),f=n.n(p),h=c.a.create({timeout:3e4,withCredentials:!0,headers:{"Content-Type":"application/json; charset=utf-8"}});h.interceptors.request.use(function(t){return t.headers.token=i.default.$cookies.get("token"),t},function(t){return r.a.reject(t)}),h.interceptors.response.use(function(t){return t.data&&401===t.data.code&&(i.default.$cookies.delete("token"),store.commit("resetStore"),m.a.options.isAddDynamicMenuRoutes=!1,m.a.push({name:"login"})),t},function(t){return r.a.reject(t)}),h.adornUrl=function(t){return"/proxyApi/"+t},h.adornParams=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={t:(new Date).getTime()};return e?f()(n,t):t},h.adornData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"json",a={t:(new Date).getTime()};return t=e?f()(a,t):t,"json"===n?s()(t):d.a.stringify(t)},e.a=h},VGxo:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("0xDb"),s={data:function(){var t=this;return{visible:!1,dataForm:{password:"",newPassword:"",confirmPassword:""},dataRule:{password:[{required:!0,message:"原密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{validator:function(e,n,a){t.dataForm.newPassword!==n?a(new Error("确认密码与新密码不一致")):a()},trigger:"blur"}]}}},computed:{userName:{get:function(){return this.$store.state.user.name}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)}}},methods:{init:function(){var t=this;this.visible=!0,this.$nextTick(function(){t.$refs.dataForm.resetFields()})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/sys/user/password"),method:"post",data:t.$http.adornData({password:t.dataForm.password,newPassword:t.dataForm.newPassword})}).then(function(e){var n=e.data;n&&0===n.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$nextTick(function(){t.mainTabs=[],Object(a.a)(),t.$router.replace({name:"login"})})}}):t.$message.error(n.msg)})})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"修改密码",visible:t.visible,"append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[n("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmit()}}},[n("el-form-item",{attrs:{label:"账号"}},[n("span",[t._v(t._s(t.userName))])]),t._v(" "),n("el-form-item",{attrs:{label:"原密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.dataForm.password,callback:function(e){t.$set(t.dataForm,"password",e)},expression:"dataForm.password"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[n("el-input",{attrs:{type:"password"},model:{value:t.dataForm.newPassword,callback:function(e){t.$set(t.dataForm,"newPassword",e)},expression:"dataForm.newPassword"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[n("el-input",{attrs:{type:"password"},model:{value:t.dataForm.confirmPassword,callback:function(e){t.$set(t.dataForm,"confirmPassword",e)},expression:"dataForm.confirmPassword"}})],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},r=n("VU/8")(s,o,!1,null,null,null);e.default=r.exports},"Vna/":function(t,e,n){var a={"./components/404.vue":["R9mB"],"./components/home.vue":["61Pw"],"./components/login.vue":["29RG"],"./components/mall/goods-add-or-update.vue":["DKFj",6],"./components/mall/goods.vue":["0Hoe",0],"./components/mall/order-product.vue":["DYI3",13],"./components/mall/order.vue":["1uw/",3],"./components/mall/stock-update.vue":["Nz3U",12],"./components/mall/stock.vue":["ahbE",2],"./components/mall/user-add-or-update.vue":["kw/B",11],"./components/mall/user.vue":["vUho",1],"./components/sys/log.vue":["q9a6",7],"./components/sys/menu.vue":["0G5b",10],"./components/sys/role-add-or-update.vue":["Nod1",9],"./components/sys/role.vue":["C1Br",5],"./components/sys/user-add-or-update.vue":["sES1",8],"./components/sys/user.vue":["XZac",4],"./main-content.vue":["caQW"],"./main-navbar-update-password.vue":["VGxo"],"./main-navbar.vue":["QrdH"],"./main-sidebar-sub-menu.vue":["k0cX"],"./main-sidebar.vue":["+Kax"],"./main.vue":["ZQNK"]};function s(t){var e=a[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}s.keys=function(){return Object.keys(a)},s.id="Vna/",t.exports=s},YaEn:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),o=n("mvHQ"),r=n.n(o),i=n("7+uW"),u=n("/ocq"),c=n("Rk3H"),m=n("29RG"),l=n("R9mB"),d=n("ZQNK"),p=n("61Pw");n("E4LH"),n("0xDb");i.default.use(u.a);var f=n("0tMT"),h=[{path:"/404",component:l.default,name:"404",meta:{title:"404未找到"}},{path:"/login",component:m.default,name:"login",meta:{title:"登录"}}],v={path:"/",component:d.default,name:"main",redirect:{name:"home"},meta:{title:"主入口整体布局"},children:[{path:"/home",component:p.default,name:"home",meta:{title:"首页"}}],beforeEnter:function(t,e,n){var a=i.default.$cookies.get("token");a&&/\S/.test(a)||(i.default.$cookies.remove("token"),store.commit("resetStore"),u.a.options.isAddDynamicMenuRoutes=!1,n({name:"login"})),n()}},b=new u.a({mode:"hash",scrollBehavior:function(){return{y:0}},isAddDynamicMenuRoutes:!1,routes:h.concat(v)});b.beforeEach(function(t,e,n){b.options.isAddDynamicMenuRoutes||"global"===function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a=[];for(var s=0;s<n.length;s++){if(e.path===n[s].path)return"global";n[s].children&&n[s].children.length>=1&&(a=a.concat(n[s].children))}return a.length>=1?t(e,a):"main"}(t,h)?n():Object(c.a)({url:c.a.adornUrl("/sys/menu/nav"),method:"get",params:c.a.adornParams()}).then(function(e){var a=e.data;a&&0===a.code?(!function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a=[];for(var s=0;s<e.length;s++)if(e[s].list&&e[s].list.length>=1)a=a.concat(e[s].list);else if(e[s].url&&/\S/.test(e[s].url)){e[s].url=e[s].url.replace(/^\//,"");var o={path:e[s].url.replace("/","-"),component:null,name:e[s].url.replace("/","-"),meta:{menuId:e[s].menuId,title:e[s].name,isDynamic:!0,isTab:!0,iframeUrl:""}};try{console.log(e[s].url),o.component=f("components/"+e[s].url)||null,console.log(o.component)}catch(t){}n.push(o)}a.length>=1?t(a,n):(v.name="main-dynamic",v.children=n,b.addRoutes([v,{path:"*",redirect:{name:"404"}}]),sessionStorage.setItem("dynamicMenuRoutes",r()(v.children||"[]")),console.log("\n"),console.log("%c!<-------------------- 动态(菜单)路由 s --------------------\x3e","color:blue"),console.log(v.children),console.log("%c!<-------------------- 动态(菜单)路由 e --------------------\x3e","color:blue"))}(a.menuList),b.options.isAddDynamicMenuRoutes=!0,sessionStorage.setItem("menuList",r()(a.menuList||"[]")),sessionStorage.setItem("permissions",r()(a.permissions||"[]")),n(s()({},t,{replace:!0}))):(sessionStorage.setItem("menuList","[]"),sessionStorage.setItem("permissions","[]"),n())}).catch(function(t){console.log("%c"+t+" 请求菜单列表和权限失败，跳转至登录页！！","color:blue"),b.push({name:"login"})})});var g=u.a.prototype.push;u.a.prototype.push=function(t){return g.call(this,t).catch(function(t){return t})},e.a=b},ZQNK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("QrdH"),s=n("+Kax"),o=n("caQW"),r={provide:function(){return{refresh:function(){var t=this;this.$store.commit("common/updateContentIsNeedRefresh",!0),this.$nextTick(function(){t.$store.commit("common/updateContentIsNeedRefresh",!1)})}}},data:function(){return{loading:!0}},components:{MainNavbar:a.default,MainSidebar:s.default,MainContent:o.default},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight},set:function(t){this.$store.commit("common/updateDocumentClientHeight",t)}},userId:{get:function(){return this.$store.state.user.id},set:function(t){this.$store.commit("user/updateId",t)}},userName:{get:function(){return this.$store.state.user.name},set:function(t){this.$store.commit("user/updateName",t)}}},created:function(){this.getUserInfo()},mounted:function(){this.resetDocumentClientHeight()},methods:{resetDocumentClientHeight:function(){var t=this;this.documentClientHeight=document.documentElement.clientHeight,window.onresize=function(){t.documentClientHeight=document.documentElement.clientHeight}},getUserInfo:function(){var t=this;this.$http({url:this.$http.adornUrl("/sys/user/info"),method:"get",params:this.$http.adornParams()}).then(function(e){var n=e.data;n&&0===n.code&&(t.loading=!1,t.userId=n.user.userId,t.userName=n.user.username)})}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"site-wrapper",attrs:{"element-loading-text":"拼命加载中"}},[t.loading?t._e():[n("main-navbar"),t._v(" "),n("main-sidebar"),t._v(" "),n("div",{staticClass:"site-content__wrapper",style:{"min-height":t.documentClientHeight+"px"}},[t.$store.state.common.contentIsNeedRefresh?t._e():n("main-content")],1)]],2)},staticRenderFns:[]};var u=n("VU/8")(r,i,!1,function(t){n("5CN4")},null,null);e.default=u.exports},caQW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("E4LH"),s={inject:["refresh"],data:function(){return{}},computed:{documentClientHeight:{get:function(){return this.$store.state.common.documentClientHeight}},menuActiveName:{get:function(){return this.$store.state.common.menuActiveName},set:function(t){this.$store.commit("common/updateMenuActiveName",t)}},mainTabs:{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)}},mainTabsActiveName:{get:function(){return this.$store.state.common.mainTabsActiveName},set:function(t){this.$store.commit("common/updateMainTabsActiveName",t)}},siteContentViewHeight:function(){var t=this.documentClientHeight-60-40;return this.$route.meta.isTab?(t-=40,Object(a.c)(this.$route.meta.iframeUrl)?{height:t+"px"}:{minHeight:t+"px"}):{minHeight:t+"px"}}},methods:{selectedTabHandle:function(t){(t=this.mainTabs.filter(function(e){return e.name===t.name})).length>=1&&this.$router.push({name:t[0].name,query:t[0].query,params:t[0].params})},removeTabHandle:function(t){var e=this;if(this.mainTabs=this.mainTabs.filter(function(e){return e.name!==t}),this.mainTabs.length>=1){if(t===this.mainTabsActiveName){var n=this.mainTabs[this.mainTabs.length-1];this.$router.push({name:n.name,query:n.query,params:n.params},function(){e.mainTabsActiveName=e.$route.name})}}else this.menuActiveName="",this.$router.push({name:"home"})},tabsCloseCurrentHandle:function(){this.removeTabHandle(this.mainTabsActiveName)},tabsCloseOtherHandle:function(){var t=this;this.mainTabs=this.mainTabs.filter(function(e){return e.name===t.mainTabsActiveName})},tabsCloseAllHandle:function(){this.mainTabs=[],this.menuActiveName="",this.$router.push({name:"home"})},tabsRefreshCurrentHandle:function(){var t=this,e=this.$route;this.removeTabHandle(e.name),this.$nextTick(function(){t.$router.push({name:e.name,query:e.query,params:e.params})})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"site-content"},[t.$route.meta.isTab?n("el-tabs",{staticClass:"tabs",attrs:{closable:!0},on:{"tab-click":t.selectedTabHandle,"tab-remove":t.removeTabHandle},model:{value:t.mainTabsActiveName,callback:function(e){t.mainTabsActiveName=e},expression:"mainTabsActiveName"}},[n("el-dropdown",{staticClass:"site-tabs__tools",attrs:{"show-timeout":0}},[n("i",{staticClass:"el-icon-arrow-down el-icon--right"}),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(e){return t.tabsCloseCurrentHandle(e)}}},[t._v("关闭当前标签页")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.tabsCloseOtherHandle(e)}}},[t._v("关闭其它标签页")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.tabsCloseAllHandle(e)}}},[t._v("关闭全部标签页")]),t._v(" "),n("el-dropdown-item",{nativeOn:{click:function(e){return t.refresh()}}},[t._v("刷新当前标签页")])],1)],1),t._v(" "),t._l(t.mainTabs,function(e){return n("el-tab-pane",{key:e.name,attrs:{label:e.title,name:e.name}},[n("el-card",{staticClass:"card-main-tabs",attrs:{"body-style":t.siteContentViewHeight,shadow:"hover"}},["iframe"===e.type?n("iframe",{attrs:{src:e.iframeUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):n("keep-alive",[e.name===t.mainTabsActiveName?n("router-view"):t._e()],1)],1)],1)})],2):n("el-card",{staticClass:"card-main",attrs:{shadow:"always","body-style":t.siteContentViewHeight}},[n("keep-alive",[n("router-view")],1)],1)],1)},staticRenderFns:[]};var r=n("VU/8")(s,o,!1,function(t){n("o5oU")},null,null);e.default=r.exports},k0cX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"sub-menu",props:{menu:{type:Object,required:!0},dynamicMenuRoutes:{type:Array,required:!0}},components:{SubMenu:r},computed:{},methods:{gotoRouteHandle:function(t){var e=this.dynamicMenuRoutes.filter(function(e){return e.meta.menuId===t.menuId});e.length>=1&&this.$router.push({name:e[0].name})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.menu.list&&t.menu.list.length>=1?n("el-submenu",{attrs:{index:t.menu.menuId+""}},[n("template",{slot:"title"},[n("span",[t._v(t._s(t.menu.name))])]),t._v(" "),t._l(t.menu.list,function(e){return n("sub-menu",{key:e.menuId,attrs:{menu:e,dynamicMenuRoutes:t.dynamicMenuRoutes}})})],2):n("el-menu-item",{attrs:{index:t.menu.menuId+""},on:{click:function(e){return t.gotoRouteHandle(t.menu)}}},[n("span",[t._v(t._s(t.menu.name))])])},staticRenderFns:[]},o=n("VU/8")(a,s,!1,null,null,null),r=e.default=o.exports},lwfY:function(t,e){},o5oU:function(t,e){},qNqz:function(t,e){},vaQY:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9fa66445c1b692c14f46.js.map