webpackJsonp([12],{Nz3U:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={data:function(){return{visible:!1,roleList:[],dataForm:{skuId:0,goodsId:"",name:"",price:"",amount:"",status:1},dataRule:{amount:[{validator:function(t,a,e){/\S/.test(a)?/^\d+$/.test(a)?e():e(new Error("数量格式错误，仅允许正整数")):e(new Error("数量不能为空"))},trigger:"blur"}],price:[{validator:function(t,a,e){/\S/.test(a)?/^\d+(\.\d+)?$/.test(a)?e():e(new Error("价格格式错误")):e(new Error("价格不能为空"))},trigger:"blur"}]}}},methods:{init:function(t){var a=this;this.dataForm.skuId=t||0,this.$nextTick(function(){a.$refs.dataForm.resetFields()}),this.$http({url:this.$http.adornUrl("/mall/stock/info/"+this.dataForm.skuId),method:"get",params:this.$http.adornParams()}).then(function(t){var e=t.data;e&&0===e.code&&(a.dataForm.skuId=e.stock.skuId,a.dataForm.goodsId=e.stock.goodsId,a.dataForm.name=e.stock.name,a.dataForm.price=e.stock.price,a.dataForm.amount=e.stock.amount,a.dataForm.status=e.stock.status)}).then(function(){a.visible=!0})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(a){a&&t.$http({url:t.$http.adornUrl("/mall/stock/update"),method:"post",data:t.$http.adornData({skuId:t.dataForm.skuId,goodsId:t.dataForm.goodsId,name:t.dataForm.name,status:t.dataForm.status,price:t.dataForm.price,amount:t.dataForm.amount})}).then(function(a){var e=a.data;e&&0===e.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(e.msg)})})}}},r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-dialog",{attrs:{title:"修改库存信息","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(a){t.visible=a}}},[e("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.dataFormSubmit()}}},[e("el-form-item",{attrs:{label:"商品名",prop:"name"}},[e("el-input",{attrs:{disabled:!0},model:{value:t.dataForm.name,callback:function(a){t.$set(t.dataForm,"name",a)},expression:"dataForm.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"价格",prop:"price"}},[e("el-input",{attrs:{placeholder:"价格"},model:{value:t.dataForm.price,callback:function(a){t.$set(t.dataForm,"price",a)},expression:"dataForm.price"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"数量",prop:"amount"}},[e("el-input",{attrs:{placeholder:"数量"},model:{value:t.dataForm.amount,callback:function(a){t.$set(t.dataForm,"amount",a)},expression:"dataForm.amount"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"状态",size:"mini",prop:"status"}},[e("el-radio-group",{model:{value:t.dataForm.status,callback:function(a){t.$set(t.dataForm,"status",a)},expression:"dataForm.status"}},[e("el-radio",{attrs:{label:0}},[t._v("已下架")]),t._v(" "),e("el-radio",{attrs:{label:1}},[t._v("上架中")])],1)],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.visible=!1}}},[t._v("取消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.dataFormSubmit()}}},[t._v("确定")])],1)],1)},staticRenderFns:[]},s=e("VU/8")(o,r,!1,null,null,null);a.default=s.exports}});
//# sourceMappingURL=12.b3bd7439f756f18387ec.js.map